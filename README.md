# Документация для запуска сервера:
## Общая часть
* Копируем все файлы для билда через `git clone`
* Редактируем `docker-compose.yml`, выставляя необходимые данные (USER_ID, GROUP_ID, ENV, место маунта файлов, и т.д.)
  * Здесь так же можно задать логин и пароль для администраторского аккаунта (FTP_USER и FTP_PASS).
  * Внимание: Админский аккаунт НЕ будет работать (если быть точнее, не будет создан), если существует файл примонтированный users.txt.
  * Если не указать FTP_PASS, будет сгенерирован случайный на 16 символов (меняется каждый раз при перезапуске контейнера)
* Так же стоит обратить внимание на переменную FTP_OWN. Если она будет установлена в YES, то примонтированная секция (/mnt и /home) будет рекурсивно передаваться под контроль ftp-сервера, и это может быть не лучшим решением если овнер этой секции важен.


## Часть "временный / постоянный сервер для 1 пользователя-админа"
* стираем файл users.txt из секции volumes (если есть)
* В секцию volumes добавляем <монтируемая секция>:/mnt
* При запуске будет сгенерирован логин и пароль (либо использованы из FTP_USER / FTP_PASS), и этому пользователю будет доступна вся папка /mnt (все примонтированные файлы, администраторский доступ)

## Часть "сервер для множественных пользователей"
* В файле users.txt создаем пользователей типа username \n password. По две строки на каждого пользователя. Количество не ограничено.
* В секции volumes добавляем маунты на те места, к которым должны иметь доступ пользователи, типа /var/www/site:/home/USERNAME/Имя_Папки


# Лайв пример:
Нужно сделать 3 отдельных пользователя, каждый со своим доступом к отдельному сайту в папке /var/www, и у первого еще есть доступ к четвертому сайту

*Секция volumes композера выглядит так:*
```
    volumes:
      - /var/www/website1.com:/home/userwebsite1/www
      - /var/www/website4.ge:/home/userwebsite1/www2
      - /var/www/website2.ru:/home/userwebsite2/www
      - /var/www/website3.co.uk:/home/userwebsite3/www
      - ./users.txt:/etc/vsftpd/virtual_users.txt
```

*./users.txt выглядит так:*
```
userwebsite1
passwordwebsite1
userwebsite2
passwordwebsite2
userwebsite3
passwordwebsite3
```